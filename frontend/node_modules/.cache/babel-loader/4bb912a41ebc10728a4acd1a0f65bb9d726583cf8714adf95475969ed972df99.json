{"ast":null,"code":"import { csrfFetch } from \"./csrf\";\nconst LOAD_CART = './cart/LOAD_CART';\nconst ADD_CART = '/cart/ADD_CART';\nconst REMOVE_CART = '/cart/REMOVE_CART';\nconst EDIT_QUANTITY = '/cart/EDIT_QUANTITY';\nconst CLEAR_CART = '/cart/CLEAR_CART';\n\n//action creators\nexport const loadToCart = products => {\n  return {\n    type: LOAD_CART,\n    products\n  };\n};\nexport const addToCart = product => {\n  return {\n    type: ADD_CART,\n    product\n  };\n};\nexport const loadAllCartThunk = () => async dispatch => {\n  const response = await csrfFetch('/api/cart');\n  if (response.ok) {\n    const cartItem = await response.json();\n    dispatch(loadToCart(cartItem));\n    console.log(\"thunkResponse\", cartItem);\n    return cartItem;\n  }\n  return response;\n};\nconst initialState = {};\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState;\n  switch (action.type) {\n    case LOAD_CART:\n      newState = {\n        ...state\n      };\n      action.cart.forEach(product => {\n        newState[product.id] = product;\n      });\n      return newState;\n    default:\n      return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["csrfFetch","LOAD_CART","ADD_CART","REMOVE_CART","EDIT_QUANTITY","CLEAR_CART","loadToCart","products","type","addToCart","product","loadAllCartThunk","dispatch","response","ok","cartItem","json","console","log","initialState","cartReducer","state","arguments","length","undefined","action","newState","cart","forEach","id"],"sources":["/Users/yiningmao/Desktop/SNOWSHOP Project/SNOWSHOP/frontend/src/store/cart.js"],"sourcesContent":["import { csrfFetch } from \"./csrf\";\n\nconst LOAD_CART = './cart/LOAD_CART'\nconst ADD_CART  = '/cart/ADD_CART'\nconst REMOVE_CART = '/cart/REMOVE_CART'\nconst EDIT_QUANTITY = '/cart/EDIT_QUANTITY'\nconst CLEAR_CART = '/cart/CLEAR_CART'\n\n\n//action creators\nexport const loadToCart = (products) => {\n    return {\n        type: LOAD_CART,\n        products\n    }\n}\n\nexport const addToCart = (product) => {\n   return {\n    type: ADD_CART,\n    product\n   }\n}\n\n\nexport const loadAllCartThunk = () => async (dispatch) => {\n\n    const response = await csrfFetch('/api/cart')\n\n\n\n    if(response.ok){\n        const cartItem = await response.json();\n        dispatch(loadToCart(cartItem))\n\n        console.log(\"thunkResponse\", cartItem)\n        return cartItem\n    }\n    return response\n\n}\n\n\nconst initialState = {};\n\nconst cartReducer = (state = initialState, action) => {\n    let newState;\n\n    switch(action.type) {\n        case LOAD_CART:\n            newState = {...state}\n            action.cart.forEach((product)=>{\n                newState[product.id] = product\n            });\n            return newState\n\n\n        default:\n            return state;\n\n\n\n\n    }\n\n}\n\nexport default cartReducer\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,QAAQ;AAElC,MAAMC,SAAS,GAAG,kBAAkB;AACpC,MAAMC,QAAQ,GAAI,gBAAgB;AAClC,MAAMC,WAAW,GAAG,mBAAmB;AACvC,MAAMC,aAAa,GAAG,qBAAqB;AAC3C,MAAMC,UAAU,GAAG,kBAAkB;;AAGrC;AACA,OAAO,MAAMC,UAAU,GAAIC,QAAQ,IAAK;EACpC,OAAO;IACHC,IAAI,EAAEP,SAAS;IACfM;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAME,SAAS,GAAIC,OAAO,IAAK;EACnC,OAAO;IACNF,IAAI,EAAEN,QAAQ;IACdQ;EACD,CAAC;AACJ,CAAC;AAGD,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EAEtD,MAAMC,QAAQ,GAAG,MAAMb,SAAS,CAAC,WAAW,CAAC;EAI7C,IAAGa,QAAQ,CAACC,EAAE,EAAC;IACX,MAAMC,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACtCJ,QAAQ,CAACN,UAAU,CAACS,QAAQ,CAAC,CAAC;IAE9BE,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,QAAQ,CAAC;IACtC,OAAOA,QAAQ;EACnB;EACA,OAAOF,QAAQ;AAEnB,CAAC;AAGD,MAAMM,YAAY,GAAG,CAAC,CAAC;AAEvB,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGH,YAAY;EAAA,IAAEM,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC7C,IAAIE,QAAQ;EAEZ,QAAOD,MAAM,CAACjB,IAAI;IACd,KAAKP,SAAS;MACVyB,QAAQ,GAAG;QAAC,GAAGL;MAAK,CAAC;MACrBI,MAAM,CAACE,IAAI,CAACC,OAAO,CAAElB,OAAO,IAAG;QAC3BgB,QAAQ,CAAChB,OAAO,CAACmB,EAAE,CAAC,GAAGnB,OAAO;MAClC,CAAC,CAAC;MACF,OAAOgB,QAAQ;IAGnB;MACI,OAAOL,KAAK;EAKpB;AAEJ,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}