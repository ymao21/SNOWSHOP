{"ast":null,"code":"import Cookies from 'js-cookie';\nexport async function csrfFetch(url) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  options.method = options.method || 'GET';\n  options.headers = options.headers || {};\n  if (options.method.toUpperCase() !== 'GET') {\n    options.headers['Content-Type'] = options.headers['Content-Type'] || 'application/json';\n    options.headers['XSRF-Token'] = Cookies.get('XSRF-TOKEN');\n  }\n  const res = await window.fetch(url, options);\n  if (res.status >= 400) throw res;\n  return res;\n}\nexport function restoreCSRF() {\n  return csrfFetch('/api/csrf/restore');\n}","map":{"version":3,"names":["Cookies","csrfFetch","url","options","arguments","length","undefined","method","headers","toUpperCase","get","res","window","fetch","status","restoreCSRF"],"sources":["/Users/yiningmao/Desktop/SNOWSHOP Project/SNOWSHOP/frontend/src/store/csrf.js"],"sourcesContent":["import Cookies from 'js-cookie';\n\nexport async function csrfFetch(url, options = {}) {\n\n  options.method = options.method || 'GET';\n\n  options.headers = options.headers || {};\n\n  if (options.method.toUpperCase() !== 'GET') {\n    options.headers['Content-Type'] =\n      options.headers['Content-Type'] || 'application/json';\n    options.headers['XSRF-Token'] = Cookies.get('XSRF-TOKEN');\n  }\n  const res = await window.fetch(url, options);\n\n  if (res.status >= 400) throw res;\n\n  return res;\n}\n\nexport function restoreCSRF() {\n    return csrfFetch('/api/csrf/restore');\n  }\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;AAE/B,OAAO,eAAeC,SAASA,CAACC,GAAG,EAAgB;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAE/CD,OAAO,CAACI,MAAM,GAAGJ,OAAO,CAACI,MAAM,IAAI,KAAK;EAExCJ,OAAO,CAACK,OAAO,GAAGL,OAAO,CAACK,OAAO,IAAI,CAAC,CAAC;EAEvC,IAAIL,OAAO,CAACI,MAAM,CAACE,WAAW,CAAC,CAAC,KAAK,KAAK,EAAE;IAC1CN,OAAO,CAACK,OAAO,CAAC,cAAc,CAAC,GAC7BL,OAAO,CAACK,OAAO,CAAC,cAAc,CAAC,IAAI,kBAAkB;IACvDL,OAAO,CAACK,OAAO,CAAC,YAAY,CAAC,GAAGR,OAAO,CAACU,GAAG,CAAC,YAAY,CAAC;EAC3D;EACA,MAAMC,GAAG,GAAG,MAAMC,MAAM,CAACC,KAAK,CAACX,GAAG,EAAEC,OAAO,CAAC;EAE5C,IAAIQ,GAAG,CAACG,MAAM,IAAI,GAAG,EAAE,MAAMH,GAAG;EAEhC,OAAOA,GAAG;AACZ;AAEA,OAAO,SAASI,WAAWA,CAAA,EAAG;EAC1B,OAAOd,SAAS,CAAC,mBAAmB,CAAC;AACvC"},"metadata":{},"sourceType":"module","externalDependencies":[]}